<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>{% block title %}Typing Speed Test{% endblock %}</title>
        <link rel="stylesheet" href="{{url_for('static', filename='style.css')}}">
    </head>
    <body>
        <nav>
            <a href="{{url_for('main.index')}}">Home</a>
            <a href="{{url_for('main.test')}}">Test</a>
            <a href="{{url_for('main.test_config')}}">Test Config</a>

            {% if current_user.is_authenticated %}
                <a href="{{url_for('main.history')}}">History</a>
                <a href="{{url_for('main.dashboard')}}">Dashboard</a>
                <span>Hi, {{current_user.display_name or current_user.username}}</span>
                <a href="{{url_for('auth.logout')}}">Logout</a>
            {% else %}
                <a href="{{url_for('auth.login')}}">Login</a>
                <a href="{{url_for('auth.register')}}">Register</a>
            {% endif %}
        </nav>

        {% with messages = get_flashed_messages(with_categories=True) %}
            {% if messages %}
                <ul id="flashes">
                    {% for category, message in messages%}
                        <li class="flash {{category}}">{{message}}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {%endwith%}

        <main>
            {% block content %}{% endblock %}
        </main>
    </body>
</html>